<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Build the experiment files — build_experiment • jaysire</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Build the experiment files — build_experiment" />
<meta property="og:description" content="Build the experiment files" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jaysire</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jaysire01.html">1. Getting started</a>
    </li>
    <li>
      <a href="../articles/jaysire02.html">2. Randomisation, repetition and variables</a>
    </li>
    <li>
      <a href="../articles/jaysire03.html">3. Using resource files</a>
    </li>
    <li>
      <a href="../articles/jaysire04.html">4. Image, video and audio files</a>
    </li>
    <li>
      <a href="../articles/jaysire05.html">5. Buttons, key presses and sliders</a>
    </li>
    <li>
      <a href="../articles/jaysire06.html">6. Survey pages</a>
    </li>
    <li>
      <a href="../articles/jaysire07.html">7. Loops and branches</a>
    </li>
    <li>
      <a href="../articles/jaysire08.html">8. A choice RT task</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/djnavarro/jaysire">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Build the experiment files</h1>
    <small class="dont-index">Source: <a href='https://github.com/djnavarro/jaysire/blob/master/R/build_experiment.R'><code>R/build_experiment.R</code></a></small>
    <div class="hidden name"><code>build_experiment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Build the experiment files</p>
    </div>

    <pre class="usage"><span class='fu'>build_experiment</span>(<span class='no'>timeline</span>, <span class='no'>path</span>, <span class='kw'>resources</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>columns</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>timeline</th>
      <td><p>A timeline object</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>A string specifying a folder in which to build the experiment</p></td>
    </tr>
    <tr>
      <th>resources</th>
      <td><p>A tibble specifying how to construct resource files, or NULL</p></td>
    </tr>
    <tr>
      <th>columns</th>
      <td><p>Additional data values (constants) to store</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments to pass to jsPsych.init()</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly returns <code>NULL</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>build_experiment()</code> function is used to build the actual jsPsych
experiment from the abstract description contained in the <code>timeline</code> argument.
The input for the <code>timeline</code> argument should be a timeline constructed using
<code><a href='build_timeline.html'>build_timeline</a>()</code> and the <code>path</code> argument should specify the
path to the folder in which the experiment files should be created. If the
experiment needs to rely on resource files (e.g., images, audio files etc) then
the <code>resources</code> argument should be a tibble containing the information needed
to copy those files to the appropriate location. The easiest way to do so is by
using the <code><a href='build_resources.html'>build_resources</a>()</code> function: see the documentation for that
function for a more detailed description of what this tibble should contain.</p>
<p>When called, the <code>build_experiment()</code> function writes all the experiment files,
compiled to javascript and HTML. The file structure it creates is as follows. Within
the <code>path</code> folder are two subfolders, named "data" and "experiment". The "data"
folder is empty, but intended to serve as a location to which data files can be
written. The "experiment" folder contains the "index.html" file, which is the primary
source file for the experiment page, and an "experiment.js" file that specifies the
jsPsych timeline and calls the jsPsych.init() javascript function that starts the
experiment running. It also contains a "resource" folder with other necessary files
(see <code><a href='build_resources.html'>build_resources</a>()</code> for detail).</p>
<p>Because <code>build_experiment()</code> creates the call to jsPsych.init(), it can also
be used to specify any parameters that the user may wish to pass to that function
via the <code>...</code>. There are quite a number of parameters you can specify this way:</p>
<ul>
<li><p><code>display_element</code> is a string specifying the ID of an HTML element
to display the experiment in. If left blank, jsPsych will use the &lt;body&gt; element
to display content. All keyboard event listeners are bound to this element. In
order for a keyboard event to be detected, this element must have focus (be the
last thing that the subject clicked on).</p></li>
<li><p><code>on_finish</code> is a javascript function that executes when the experiment
ends. It can be constructed manually using <code><a href='insert_javascript.html'>insert_javascript</a>()</code>, but
in many cases there is a jaysire function that will create the appropriate function
for you. For example, if you want the data to be saved locally at the end of the
experiment you can set <code>on_finish = <a href='fn_save_locally.html'>fn_save_locally</a>()</code>, whereas if you
want the data to be saved to the Google Datastore you can set
<code>on_finish = <a href='fn_save_datastore.html'>fn_save_datastore</a>()</code>.</p></li>
<li><p><code>on_trial_start</code> is a javascript function that executes when a
trial begins.</p></li>
<li><p><code>on_trial_finish</code> is a javascript function that executes when a
trial ends.</p></li>
<li><p><code>on_data_update</code> is a javascript function that executes
every time data is stored within the jsPsych internal storage.</p></li>
<li><p><code>on_interaction_data_update</code> is a javascript function that executes
every time a new interaction event occurs. Interaction events include clicking
on a different window (blur), returning to the experiment window (focus),
entering full screen mode (fullscreenenter), and exiting full screen mode
(fullscreenexit).</p></li>
<li><p><code>on_close</code> is a javascript function that executes when the user
leaves the page. This can be used, for example, to ensure that data are saved
before the page is closed.</p></li>
<li><p><code>exclusions</code> is used to specify restrictions on the browser the
subject can use to complete the experiment. See list of options below.</p></li>
<li><p><code>show_progress_bar</code> is a javascript logical value. If true, then
a progress bar is shown at the top of the page.</p></li>
<li><p><code>message_progress_bar</code> is a string containing a message to display
next to the progress bar. The default is 'Completion Progress'.</p></li>
<li><p><code>auto_update_progress_bar</code> is a javascript logical value. If true,
then the progress bar at the top of the page will automatically update as
every top-level timeline or trial is completed.</p></li>
<li><p><code>show_preload_progress_bar</code> is a javascript logical value. If true,
then a progress bar is displayed while media files are automatically preloaded.</p></li>
<li><p><code>preload_audio</code> is a javascript array of audio files to preload before
starting the experiment.</p></li>
<li><p><code>preload_images</code> is a javascript array of image files to preload
before starting the experiment.</p></li>
<li><p><code>preload_video</code> is a javascript array of video files to preload
before starting the experiment.</p></li>
<li><p><code>max_load_time</code> is a numeric value specifying the maximum number
of milliseconds to wait for content to preload. If the wait time is exceeded
an error message is displayed and the experiment stops. The default value is
60 seconds.</p></li>
<li><p><code>max_preload_attempts</code> is numeric value specifying the maximum
number of attempts to preload each file in case of an error. The default
value is 10. There is a small delay of 200ms between each attempt.</p></li>
<li><p><code>use_webaudio</code> is a javascript logical. If false, then jsPsych will
not attempt to use the WebAudio API for audio playback. Instead, HTML5 Audio
objects will be used. The WebAudio API offers more precise control over the
timing of audio events, and should be used when possible. The default value
is true.</p></li>
<li><p><code>default_iti</code> is a numeric value setting the default inter-trial
interval in milliseeconds. The default value if none is specified is 0.</p></li>
<li><p><code>experiment_width</code> is a numeric value setting the desired width
of the jsPsych container in pixels. If left undefined, the width will be
100% of the display element. Usually this is the &lt;body&gt; element, and the
width will be 100% of the screen size.</p></li>
</ul>

<p>Note: as of the current writing not all of these have been tested (even informally)
through jaysire. Please report any unexpected behaviour by opening an issue on
the GitHub page.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://compcogscisydney.org'>Danielle Navarro</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


