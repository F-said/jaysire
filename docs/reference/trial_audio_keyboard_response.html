<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Specify an audio trial with keyboard response — trial_audio_keyboard_response • jaysire</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Specify an audio trial with keyboard response — trial_audio_keyboard_response" />

<meta property="og:description" content="The trial_audio_keyboard_response function is used to play
an audio stimulus and collect a response using a key press." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jaysire</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jaysire01.html">1. Getting started</a>
    </li>
    <li>
      <a href="../articles/jaysire02.html">2. Randomisation, repetition and variables</a>
    </li>
    <li>
      <a href="../articles/jaysire03.html">3. Using resource files</a>
    </li>
    <li>
      <a href="../articles/jaysire04.html">4. Image, video and audio files</a>
    </li>
    <li>
      <a href="../articles/jaysire05.html">5. Buttons, key presses and sliders</a>
    </li>
    <li>
      <a href="../articles/jaysire06.html">6. Survey pages</a>
    </li>
    <li>
      <a href="../articles/jaysire07.html">7. Loops and branches</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Gallery
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/experiment01.html">1. Choice RT task</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/djnavarro/jaysire">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Specify an audio trial with keyboard response</h1>
    <small class="dont-index">Source: <a href='https://github.com/djnavarro/jaysire/blob/master/R/trial_audio_keyboard_response.R'><code>R/trial_audio_keyboard_response.R</code></a></small>
    <div class="hidden name"><code>trial_audio_keyboard_response.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The <code>trial_audio_keyboard_response</code> function is used to play
an audio stimulus and collect a response using a key press.</p>
    
    </div>

    <pre class="usage"><span class='fu'>trial_audio_keyboard_response</span>(<span class='no'>stimulus</span>, <span class='kw'>choices</span> <span class='kw'>=</span> <span class='fu'><a href='respond_any_key.html'>respond_any_key</a></span>(),
  <span class='kw'>prompt</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>trial_ends_after_audio</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>trial_duration</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>response_ends_trial</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>post_trial_gap</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>on_finish</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>on_load</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>stimulus</th>
      <td><p>Path to the audio file to be played</p></td>
    </tr>
    <tr>
      <th>choices</th>
      <td><p>A character vector of keycodes (either numeric values or the characters themselves). Alternatively, respond_any_key() and respond_no_key() can be used</p></td>
    </tr>
    <tr>
      <th>prompt</th>
      <td><p>A string (may contain HTML) that will be displayed below the stimulus, intended as a reminder about the actions to take (e.g., which key to press).</p></td>
    </tr>
    <tr>
      <th>trial_ends_after_audio</th>
      <td><p>Does the trial end after the audio finishes playing? (default = FALSE)</p></td>
    </tr>
    <tr>
      <th>trial_duration</th>
      <td><p>How long to wait for a response before ending trial in milliseconds. If NULL, the trial will wait indefinitely. If no response is made before the deadline is reached, the response will be recorded as NULL.</p></td>
    </tr>
    <tr>
      <th>response_ends_trial</th>
      <td><p>If TRUE, then the trial will end when a response is made (or the trial_duration expires). If FALSE, the trial continues until the deadline expires.</p></td>
    </tr>
    <tr>
      <th>post_trial_gap</th>
      <td><p>The gap in milliseconds between the current trial and the next trial. If NULL, there will be no gap.</p></td>
    </tr>
    <tr>
      <th>on_finish</th>
      <td><p>A javascript callback function to execute when the trial finishes</p></td>
    </tr>
    <tr>
      <th>on_load</th>
      <td><p>A javascript callback function to execute when the trial begins, before any loading has occurred</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>An object containing additional data to store for the trial</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Functions with a <code>trial_</code> prefix always return a "trial" object.
A trial object is simply a list containing the input arguments, with
<code>NULL</code> elements removed. Logical values in the input (<code>TRUE</code> and
<code>FALSE</code>) are transformed to character vectors <code>"true"</code> and <code>"false"</code>
and are specified to be objects of class "json", ensuring that they will be
written to file as the javascript logicals, <code>true</code> and <code>false</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>trial_audio_keyboard_response</code> function belongs to the "stimulus-response"
family of trials, all of which display a stimulus of a particular type (image,
audio, video or HTML) and collect responses using a particular mechanism
(button, keyboard or slider).
It plays audio files and records responses generated with a key press.</p>
<h3>Stimulus display</h3>

If the browser supports it, audio files are played using the WebAudio API. This
allows for reasonably precise timing of the playback. The timing of responses
generated is measured against the WebAudio specific clock, improving the
measurement of response times. If the browser does not support the WebAudio API,
then the audio file is played with HTML5 audio.


<h3>Response mechanism</h3>

For this kind of trial, participants can make a response by pressing a key,
and the <code>choices</code> argument is used to control which keys will register
a valid response. The default value <code>choices = <a href='respond_any_key.html'>respond_any_key</a>()</code>
is to allow the participant to press any key to register their response.
Alternatively it is possible to set <code>choices = <a href='respond_no_key.html'>respond_no_key</a>()</code>,
which prevents all keys from registering a response: this can be useful if
the trial is designed to run for a fixed duration, regardless of what the
participant presses.

In many situations it is preferable to require the participant to respond
using specific keys (e.g., for a binary choice tasks, it may be desirable to
require participants to press F for one response or J for the other). This
can be achieved in two ways. One possibility is to use a character vector
as input (e.g., <code>choices = c("f","j")</code>). The other is to use the
numeric code that specifies the desired key in javascript, which in this
case would be <code>choices = c(70, 74)</code>. To make it a little easier to
work with numeric codes, the jaysire package includes the
<code><a href='keycode.html'>keycode</a>()</code> function to make it easier to convert from one format
to the other.


<h3>Other behaviour</h3>

The trial can end when the subject responds (<code>response_ends_trial = TRUE</code>),
when the audio file has finished playing (<code>trial_ends_after_audio = TRUE</code>),
or if the subject has failed to respond within a fixed length of time (specified
using the <code>trial_duration</code> argument).

Like all functions in the <code>trial_</code> family it contains four additional
arguments:

<ul>
<li><p>The <code>post_trial_gap</code> argument is a numeric value specifying the
length of the pause between the current trial ending and the next one
beginning. This parameter overrides any default values defined using the
<code><a href='build_experiment.html'>build_experiment</a></code> function, and a blank screen is displayed
during this gap period.</p></li>
<li><p>The <code>on_load</code> and <code>on_finish</code> arguments can be used to
specify javascript functions that will execute before the trial begins or
after it ends. The javascript code can be written manually and inserted *as*
javascript by using the <code><a href='insert_javascript.html'>insert_javascript</a></code> function. However,
the <code>fn_</code> family of functions supplies a variety of functions that may
be useful in many cases.</p></li>
<li><p>The <code>data</code> argument can be used to insert custom data values into
the jsPsych data storage for this trial</p></li>
</ul>


<h3>Data</h3>

When this function is called from R it returns the trial object that will
later be inserted into the experiment when <code><a href='build_experiment.html'>build_experiment</a></code>
is called. However, when the trial runs as part of the experiment it returns
values that are recorded in the jsPsych data store and eventually form part
of the data set for the experiment.

The data recorded by this trial is as follows:

<ul>
<li><p>The <code>rt</code> value is the response time in milliseconds taken for the
user to make a response. The time is measured from when the stimulus first
appears on the screen until the response.</p></li>
<li><p>The <code>key_press</code> variable is the numeric javascript key code
corresponding to the response.</p></li>
</ul>

In addition, it records default variables that are recorded by all trials:

<ul>
<li><p><code>trial_type</code> is a string that records the name of the plugin used to run the trial.</p></li>
<li><p><code>trial_index</code> is a number that records the index of the current trial across the whole experiment.</p></li>
<li><p><code>time_elapsed</code> counts the number of milliseconds since the start of the experiment when the trial ended.</p></li>
<li><p><code>internal_node_id</code> is a string identifier for the current "node" in the timeline.</p></li>
</ul>


    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Within the "stimulus-response" family of trials, there are four types of
stimuli (image, audio, video and HTML) and three types of response options
(button, keyboard, slider). The corresponding functions are
<code><a href='trial_image_button_response.html'>trial_image_button_response</a></code>,
<code><a href='trial_image_keyboard_response.html'>trial_image_keyboard_response</a></code>,
<code><a href='trial_image_slider_response.html'>trial_image_slider_response</a></code>,
<code><a href='trial_audio_button_response.html'>trial_audio_button_response</a></code>,
<code>trial_audio_keyboard_response</code>,
<code><a href='trial_audio_slider_response.html'>trial_audio_slider_response</a></code>,
<code><a href='trial_video_button_response.html'>trial_video_button_response</a></code>,
<code><a href='trial_video_keyboard_response.html'>trial_video_keyboard_response</a></code>,
<code><a href='trial_video_slider_response.html'>trial_video_slider_response</a></code>,
<code><a href='trial_html_button_response.html'>trial_html_button_response</a></code>,
<code><a href='trial_html_keyboard_response.html'>trial_html_keyboard_response</a></code> and
<code><a href='trial_html_slider_response.html'>trial_html_slider_response</a></code>.</p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://compcogscisydney.org'>Danielle Navarro</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


