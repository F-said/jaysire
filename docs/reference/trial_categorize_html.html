<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Specify a categorization trial with an HTML stimulus — trial_categorize_html • jaysire</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Specify a categorization trial with an HTML stimulus — trial_categorize_html" />
<meta property="og:description" content="The trial_categorize_html function is used to display
an HTML stimulus, collect a categorization response with the
keyboard, and provide feedback." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jaysire</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jaysire01.html">1. Getting started</a>
    </li>
    <li>
      <a href="../articles/jaysire02.html">2. Randomisation, repetition and variables</a>
    </li>
    <li>
      <a href="../articles/jaysire03.html">3. Using resource files</a>
    </li>
    <li>
      <a href="../articles/jaysire04.html">4. Image, video and audio files</a>
    </li>
    <li>
      <a href="../articles/jaysire05.html">5. Buttons, key presses and sliders</a>
    </li>
    <li>
      <a href="../articles/jaysire06.html">6. Survey pages</a>
    </li>
    <li>
      <a href="../articles/jaysire07.html">7. Loops and branches</a>
    </li>
    <li>
      <a href="../articles/jaysire08.html">8. A choice RT task</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/djnavarro/jaysire">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Specify a categorization trial with an HTML stimulus</h1>
    <small class="dont-index">Source: <a href='https://github.com/djnavarro/jaysire/blob/master/R/trial_categorize_html.R'><code>R/trial_categorize_html.R</code></a></small>
    <div class="hidden name"><code>trial_categorize_html.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>trial_categorize_html</code> function is used to display
an HTML stimulus, collect a categorization response with the
keyboard, and provide feedback.</p>
    </div>

    <pre class="usage"><span class='fu'>trial_categorize_html</span>(
  <span class='no'>stimulus</span>,
  <span class='no'>key_answer</span>,
  <span class='kw'>choices</span> <span class='kw'>=</span> <span class='fu'><a href='respond_any_key.html'>respond_any_key</a></span>(),
  <span class='kw'>text_answer</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>correct_text</span> <span class='kw'>=</span> <span class='st'>"Correct"</span>,
  <span class='kw'>incorrect_text</span> <span class='kw'>=</span> <span class='st'>"Wrong"</span>,
  <span class='kw'>prompt</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>force_correct_button_press</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>show_stim_with_feedback</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>show_feedback_on_timeout</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>timeout_message</span> <span class='kw'>=</span> <span class='st'>"Please respond faster"</span>,
  <span class='kw'>stimulus_duration</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feedback_duration</span> <span class='kw'>=</span> <span class='fl'>2000</span>,
  <span class='kw'>trial_duration</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>post_trial_gap</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>on_finish</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>on_load</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>stimulus</th>
      <td><p>The HTML to be displayed.</p></td>
    </tr>
    <tr>
      <th>key_answer</th>
      <td><p>The numeric key code indicating the correct response</p></td>
    </tr>
    <tr>
      <th>choices</th>
      <td><p>A character vector of keycodes (either numeric values or the characters themselves). Alternatively, respond_any_key() and respond_no_key() can be used</p></td>
    </tr>
    <tr>
      <th>text_answer</th>
      <td><p>A label associated with the correct answer</p></td>
    </tr>
    <tr>
      <th>correct_text</th>
      <td><p>Text to display when correct answer given ('%ANS%' substitutes text_answer)</p></td>
    </tr>
    <tr>
      <th>incorrect_text</th>
      <td><p>Text to display when wrong answer given ('%ANS%' substitutes text_answer)</p></td>
    </tr>
    <tr>
      <th>prompt</th>
      <td><p>A string (may contain HTML) that will be displayed below the stimulus, intended as a reminder about the actions to take (e.g., which key to press).</p></td>
    </tr>
    <tr>
      <th>force_correct_button_press</th>
      <td><p>If TRUE the correct button must be pressed after feedback in order to advance</p></td>
    </tr>
    <tr>
      <th>show_stim_with_feedback</th>
      <td><p>If TRUE the stimulus image will be displayed as part of the feedback. Otherwise only text is shown</p></td>
    </tr>
    <tr>
      <th>show_feedback_on_timeout</th>
      <td><p>If TRUE the "wrong answer" feedback will be presented on timeout. If FALSE, a timeout message is shown</p></td>
    </tr>
    <tr>
      <th>timeout_message</th>
      <td><p>The message to show on a timeout non-response</p></td>
    </tr>
    <tr>
      <th>stimulus_duration</th>
      <td><p>How long to show the stimulus, in milliseconds. If NULL, then the stimulus will be shown until the subject makes a response</p></td>
    </tr>
    <tr>
      <th>feedback_duration</th>
      <td><p>How long to show the feedback, in milliseconds</p></td>
    </tr>
    <tr>
      <th>trial_duration</th>
      <td><p>How long to wait for a response before ending trial in milliseconds. If NULL, the trial will wait indefinitely. If no response is made before the deadline is reached, the response will be recorded as NULL.</p></td>
    </tr>
    <tr>
      <th>post_trial_gap</th>
      <td><p>The gap in milliseconds between the current trial and the next trial. If NULL, there will be no gap.</p></td>
    </tr>
    <tr>
      <th>on_finish</th>
      <td><p>A javascript callback function to execute when the trial finishes</p></td>
    </tr>
    <tr>
      <th>on_load</th>
      <td><p>A javascript callback function to execute when the trial begins, before any loading has occurred</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>An object containing additional data to store for the trial</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Functions with a <code>trial_</code> prefix always return a "trial" object.
A trial object is simply a list containing the input arguments, with
<code>NULL</code> elements removed. Logical values in the input (<code>TRUE</code> and
<code>FALSE</code>) are transformed to character vectors <code>"true"</code> and <code>"false"</code>
and are specified to be objects of class "json", ensuring that they will be
written to file as the javascript logicals, <code>true</code> and <code>false</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>trial_categorize_html</code> function is used to show an HTML object on the screen.
The subject responds by pressing a key. Feedback indicating the correctness
of the response is given.</p>
<h3>Stimulus display</h3>
<p>The <code>stimulus</code> argument is a string specifying the text to be displayed
as the stimulus. It can include HTML markup, meaning that it can be used to
any stimulus that can be specified using HTML. It remains on screen for a
length of time corresponding to the <code>stimulus_duration</code> parameter in
milliseconds (or indefinitely if the parameter is <code>NULL</code>).</p>

<h3>Response mechanism</h3>
<p>For this kind of trial, participants can make a response by pressing a key,
and the <code>choices</code> argument is used to control which keys will register
a valid response. The default value <code>choices = <a href='respond_any_key.html'>respond_any_key</a>()</code>
is to allow the participant to press any key to register their response.
Alternatively it is possible to set <code>choices = <a href='respond_no_key.html'>respond_no_key</a>()</code>,
which prevents all keys from registering a response: this can be useful if
the trial is designed to run for a fixed duration, regardless of what the
participant presses.</p>
<p>In many situations it is preferable to require the participant to respond
using specific keys (e.g., for a binary choice tasks, it may be desirable to
require participants to press F for one response or J for the other). This
can be achieved in two ways. One possibility is to use a character vector
as input (e.g., <code>choices = c("f","j")</code>). The other is to use the
numeric code that specifies the desired key in javascript, which in this
case would be <code>choices = c(70, 74)</code>. To make it a little easier to
work with numeric codes, the jaysire package includes the
<code><a href='keycode.html'>keycode</a>()</code> function to make it easier to convert from one format
to the other.</p>

<h3>Feedback</h3>


<p>In a categorisation trial, there is always presumed to be a "correct" response
for any given stimulus, and the participant is presented with feedback after
the response is given. This feedback can be customised in several ways:</p>
<ul>
<li><p>The <code>key_answer</code> argument specifies the numeric <code><a href='keycode.html'>keycode</a></code>
that corresponds to the correct response for the current trial.</p></li>
<li><p>The <code>correct_text</code> and <code>incorrect_text</code> arguments are used to
customise the feedback text that is presented to the participant after a
response is given. In both cases, there is a special value <code>"%ANS%"</code> that
can be used, and will be substituted with the value of <code>text_answer</code>.
For example if we set <code>text_answer = "WUG"</code>, we could then set
<code>correct_text = "Correct! This is a %ANS%"</code> and
<code>incorrect_text = "Wrong. This is a %ANS%"</code>. This functionality can be
particularly useful if the values of <code>text_answer</code> and <code>stimulus</code>
are specified using timeline variables (see <code><a href='insert_variable.html'>insert_variable</a>()</code> and
<code><a href='set_variables.html'>set_variables</a>()</code>).</p></li>
<li><p>The <code>force_correct_button_press</code> argument is a logical variable.
If set to <code>TRUE</code> the participant cannot move forward to the next trial
until the correct response is given.</p></li>
<li><p>When <code>show_stim_with_feedback = TRUE</code>, the <code>stimulus</code> remains
on screen while the feedback is presented. If it is set to <code>FALSE</code> the
stimulus is not visible.</p></li>
<li><p>Sometimes a categorisation trial has a deadline, specified by the value
of <code>trial_duration</code>. If a response is not given by that time, the trial
ends. Optionally, a feedback screen can be presented whenever this occurs,
by setting <code>show_feedback_on_timeout = FALSE</code>, and the text of this
feedback is specified by using the <code>timeout_message</code> argument.</p></li>
</ul>



<h3>Other behaviour</h3>


<p>The <code>prompt</code> argument is used to specify text that remains on screen while
the animation displays. The intended use is to remind participants of the
valid response keys, but it allows HTML markup to be included and so can be
used for more general purposes.</p>
<p>Like all functions in the <code>trial_</code> family it contains four additional
arguments:</p>
<ul>
<li><p>The <code>post_trial_gap</code> argument is a numeric value specifying the
length of the pause between the current trial ending and the next one
beginning. This parameter overrides any default values defined using the
<code><a href='build_experiment.html'>build_experiment</a></code> function, and a blank screen is displayed
during this gap period.</p></li>
<li><p>The <code>on_load</code> and <code>on_finish</code> arguments can be used to
specify javascript functions that will execute before the trial begins or
after it ends. The javascript code can be written manually and inserted *as*
javascript by using the <code><a href='insert_javascript.html'>insert_javascript</a></code> function. However,
the <code>fn_</code> family of functions supplies a variety of functions that may
be useful in many cases.</p></li>
<li><p>The <code>data</code> argument can be used to insert custom data values into
the jsPsych data storage for this trial</p></li>
</ul>


<h3>Data</h3>


<p>When this function is called from R it returns the trial object that will
later be inserted into the experiment when <code><a href='build_experiment.html'>build_experiment</a></code>
is called. However, when the trial runs as part of the experiment it returns
values that are recorded in the jsPsych data store and eventually form part
of the data set for the experiment.</p>

<p>The data recorded by this trial is as follows:</p>
<ul>
<li><p>The <code>stimulus</code> value is the HTML displayed on the trial.</p></li>
<li><p>The <code>key_press</code> value indicates which key the subject pressed. The
value is the numeric key code corresponding to the subject's response.</p></li>
<li><p>The <code>rt</code> value is the
response time in milliseconds for the subject to make a response. The time is
measured from when the stimulus first appears on the screen until the subject's
response.</p></li>
<li><p>The <code>correct</code> value is true if the subject got the correct answer,
false otherwise.</p></li>
</ul>

<p>In addition, it records default variables that are recorded by all trials:</p>
<ul>
<li><p><code>trial_type</code> is a string that records the name of the plugin used to run the trial.</p></li>
<li><p><code>trial_index</code> is a number that records the index of the current trial across the whole experiment.</p></li>
<li><p><code>time_elapsed</code> counts the number of milliseconds since the start of the experiment when the trial ended.</p></li>
<li><p><code>internal_node_id</code> is a string identifier for the current "node" in the timeline.</p></li>
</ul>


    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>There are three types of categorization trial, corresponding to the
<code><a href='trial_categorize_animation.html'>trial_categorize_animation</a></code>,
<code>trial_categorize_html</code> and
<code><a href='trial_categorize_image.html'>trial_categorize_image</a></code> functions.</p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://compcogscisydney.org'>Danielle Navarro</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


