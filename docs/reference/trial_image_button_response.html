<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Specify an image trial with button response — trial_image_button_response • jaysire</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Specify an image trial with button response — trial_image_button_response" />
<meta property="og:description" content="The trial_image_button_response function is used to display
an image stimulus and collect a response using on screen buttons." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jaysire</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jaysire01.html">1. Getting started</a>
    </li>
    <li>
      <a href="../articles/jaysire02.html">2. Randomisation, repetition and variables</a>
    </li>
    <li>
      <a href="../articles/jaysire03.html">3. Using resource files</a>
    </li>
    <li>
      <a href="../articles/jaysire04.html">4. Image, video and audio files</a>
    </li>
    <li>
      <a href="../articles/jaysire05.html">5. Buttons, key presses and sliders</a>
    </li>
    <li>
      <a href="../articles/jaysire06.html">6. Survey pages</a>
    </li>
    <li>
      <a href="../articles/jaysire07.html">7. Loops and branches</a>
    </li>
    <li>
      <a href="../articles/jaysire08.html">8. A choice RT task</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/djnavarro/jaysire">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Specify an image trial with button response</h1>
    <small class="dont-index">Source: <a href='https://github.com/djnavarro/jaysire/blob/master/R/trial_image_button_response.R'><code>R/trial_image_button_response.R</code></a></small>
    <div class="hidden name"><code>trial_image_button_response.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>trial_image_button_response</code> function is used to display
an image stimulus and collect a response using on screen buttons.</p>
    </div>

    <pre class="usage"><span class='fu'>trial_image_button_response</span><span class='op'>(</span>
  <span class='va'>stimulus</span>,
  stimulus_height <span class='op'>=</span> <span class='cn'>NULL</span>,
  stimulus_width <span class='op'>=</span> <span class='cn'>NULL</span>,
  maintain_aspect_ratio <span class='op'>=</span> <span class='cn'>TRUE</span>,
  choices <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"button 0"</span>, <span class='st'>"button 1"</span>, <span class='st'>"button 2"</span><span class='op'>)</span>,
  button_html <span class='op'>=</span> <span class='cn'>NULL</span>,
  margin_vertical <span class='op'>=</span> <span class='st'>"0px"</span>,
  margin_horizontal <span class='op'>=</span> <span class='st'>"8px"</span>,
  prompt <span class='op'>=</span> <span class='cn'>NULL</span>,
  stimulus_duration <span class='op'>=</span> <span class='cn'>NULL</span>,
  trial_duration <span class='op'>=</span> <span class='cn'>NULL</span>,
  response_ends_trial <span class='op'>=</span> <span class='cn'>TRUE</span>,
  post_trial_gap <span class='op'>=</span> <span class='fl'>0</span>,
  on_finish <span class='op'>=</span> <span class='cn'>NULL</span>,
  on_load <span class='op'>=</span> <span class='cn'>NULL</span>,
  data <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>stimulus</th>
      <td><p>The path of the image file to be displayed.</p></td>
    </tr>
    <tr>
      <th>stimulus_height</th>
      <td><p>Set the height of the image in pixels. If NULL, then the image will display at its natural height.</p></td>
    </tr>
    <tr>
      <th>stimulus_width</th>
      <td><p>Set the width of the image in pixels. If NULL, then the image will display at its natural width.</p></td>
    </tr>
    <tr>
      <th>maintain_aspect_ratio</th>
      <td><p>If setting only the width or only the height and this parameter is TRUE, then the other dimension will be scaled to maintain the image's aspect ratio.</p></td>
    </tr>
    <tr>
      <th>choices</th>
      <td><p>Labels for the buttons. Each element of the character vector will generate a different button.</p></td>
    </tr>
    <tr>
      <th>button_html</th>
      <td><p>A template of HTML for generating the button elements (see details)</p></td>
    </tr>
    <tr>
      <th>margin_vertical</th>
      <td><p>Vertical margin of the buttons</p></td>
    </tr>
    <tr>
      <th>margin_horizontal</th>
      <td><p>Horizontal margin of the buttons</p></td>
    </tr>
    <tr>
      <th>prompt</th>
      <td><p>A string (may contain HTML) that will be displayed below the stimulus, intended as a reminder about the actions to take (e.g., which key to press).</p></td>
    </tr>
    <tr>
      <th>stimulus_duration</th>
      <td><p>How long to show the stimulus, in milliseconds. If NULL, then the stimulus will be shown until the subject makes a response</p></td>
    </tr>
    <tr>
      <th>trial_duration</th>
      <td><p>How long to wait for a response before ending trial in milliseconds. If NULL, the trial will wait indefinitely. If no response is made before the deadline is reached, the response will be recorded as NULL.</p></td>
    </tr>
    <tr>
      <th>response_ends_trial</th>
      <td><p>If TRUE, then the trial will end when a response is made (or the trial_duration expires). If FALSE, the trial continues until the deadline expires.</p></td>
    </tr>
    <tr>
      <th>post_trial_gap</th>
      <td><p>The gap in milliseconds between the current trial and the next trial. If NULL, there will be no gap.</p></td>
    </tr>
    <tr>
      <th>on_finish</th>
      <td><p>A javascript callback function to execute when the trial finishes</p></td>
    </tr>
    <tr>
      <th>on_load</th>
      <td><p>A javascript callback function to execute when the trial begins, before any loading has occurred</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>An object containing additional data to store for the trial</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Functions with a <code>trial_</code> prefix always return a "trial" object.
A trial object is simply a list containing the input arguments, with
<code>NULL</code> elements removed. Logical values in the input (<code>TRUE</code> and
<code>FALSE</code>) are transformed to character vectors <code>"true"</code> and <code>"false"</code>
and are specified to be objects of class "json", ensuring that they will be
written to file as the javascript logicals, <code>true</code> and <code>false</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>trial_image_button_response</code> function belongs to the "stimulus-response"
family of trials, all of which display a stimulus of a particular type (image,
audio, video or HTML) and collect responses using a particular mechanism
(button, keyboard or slider).
This one displays an image and records responses generated with a button click.</p>
<h3 class='hasAnchor' id='stimulus-display'><a class='anchor' href='#stimulus-display'></a>Stimulus display</h3>
<p>For trials that display an image, the <code>stimulus</code> argument is a string that
specifies the path to the image file. More precisely, it must specify the path to
where the image file will be located at the time the experiment runs. Typically,
if an experiment is deployed using the <code><a href='build_experiment.html'>build_experiment</a>()</code> function
all resource files will be stored in a "resource" folder, and the images will
be copied to the "image" subfolder. So if the image to be displayed is a file
called "picture.png", the <code>stimulus</code> path on a Mac or Linux machine would
likely be "resource/image/picture.png". Note that this path is specified relative
to the location of the primary experiment file "image.html". To make this a little
easier, the <code><a href='insert_resource.html'>insert_resource</a>()</code> function can be used to construct
resource paths automatically. In the example above,
<code>stimulus = insert_resource("picture.png")</code> would suffice.</p>

<p>Other aspects to the stimulus display can be controlled with other arguments.
The <code>stimulus_height</code> and <code>stimulus_width</code> arguments can be used to
manually control the image display size by specifying the height/width in
pixels. If only one of these two arguments is specified, but the
<code>maintain_aspect_ratio</code> value is set to <code>TRUE</code>, the other dimension
of the image will automatically be scaled appropriately.</p>

<p>The length of time that the image remains on screen can also be customised
by setting the <code>stimulus_duration</code> argument: this should be a numeric
value indicating the number of milliseconds before the image disappears.
Alternatively, a value of <code>NULL</code> (the default) ensures that the image
remains visible until the trial ends.</p>

<h3 class='hasAnchor' id='response-mechanism'><a class='anchor' href='#response-mechanism'></a>Response mechanism</h3>
<p>The response buttons can be customized using HTML formatting, via the <code>button_html</code> argument.
This argument allows the user to specify an HTML used to generating the button elements. If this
argument is a vector of the same length as <code>choices</code> then the i-th element of <code>button_html</code>
will be used to define the i-th response button. If <code>button_html</code> is a single string then the
same template will be applied to every button. The templating is defined using a special string
"%choice%" that will be replaced by the corresponding element of the <code>choices</code> vector. By default
the jsPsych library creates an HTML button of class "jspsych-btn" and the styling is governed by the
corresponding CSS.</p>

<h3 class='hasAnchor' id='other-behaviour'><a class='anchor' href='#other-behaviour'></a>Other behaviour</h3>
<p>Depending on parameter settings, the trial can end when the subject responds
(<code>response_ends_trial = TRUE</code>), or after a fixed amount of time
(specified using the <code>trial_duration</code> argument) has elapsed. The length
of time that the stimulus remains visible can also be customized using the
(<code>stimulus_duration</code>) argument.</p>
<p>Like all functions in the <code>trial_</code> family it contains four additional
arguments:</p>
<ul>
<li><p>The <code>post_trial_gap</code> argument is a numeric value specifying the
length of the pause between the current trial ending and the next one
beginning. This parameter overrides any default values defined using the
<code><a href='build_experiment.html'>build_experiment</a></code> function, and a blank screen is displayed
during this gap period.</p></li>
<li><p>The <code>on_load</code> and <code>on_finish</code> arguments can be used to
specify javascript functions that will execute before the trial begins or
after it ends. The javascript code can be written manually and inserted *as*
javascript by using the <code><a href='insert_javascript.html'>insert_javascript</a></code> function. However,
the <code>fn_</code> family of functions supplies a variety of functions that may
be useful in many cases.</p></li>
<li><p>The <code>data</code> argument can be used to insert custom data values into
the jsPsych data storage for this trial</p></li>
</ul>


<h3 class='hasAnchor' id='data'><a class='anchor' href='#data'></a>Data</h3>
<p>When this function is called from R it returns the trial object that will
later be inserted into the experiment when <code><a href='build_experiment.html'>build_experiment</a></code>
is called. However, when the trial runs as part of the experiment it returns
values that are recorded in the jsPsych data store and eventually form part
of the data set for the experiment.</p>

<p>The data recorded by this trial is as follows:</p>
<ul>
<li><p>The <code>rt</code> value is the response time in milliseconds taken for the
user to make a response. The time is measured from when the stimulus first
appears on the screen until the response.</p></li>
<li><p>The <code>button_pressed</code> variable is a numeric value indicating which
button was pressed. The first button in the choices array is recorded as
value 0, the second is value 1, and so on.</p></li>
<li><p>The <code>stimulus</code> variable records the path to the image that was
displayed on this trial.</p></li>
</ul>

<p>In addition, it records default variables that are recorded by all trials:</p>
<ul>
<li><p><code>trial_type</code> is a string that records the name of the plugin used to run the trial.</p></li>
<li><p><code>trial_index</code> is a number that records the index of the current trial across the whole experiment.</p></li>
<li><p><code>time_elapsed</code> counts the number of milliseconds since the start of the experiment when the trial ended.</p></li>
<li><p><code>internal_node_id</code> is a string identifier for the current "node" in the timeline.</p></li>
</ul>


    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Within the "stimulus-response" family of trials, there are four types of
stimuli (image, audio, video and HTML) and three types of response options
(button, keyboard, slider). The corresponding functions are
<code>trial_image_button_response</code>,
<code><a href='trial_image_keyboard_response.html'>trial_image_keyboard_response</a></code>,
<code><a href='trial_image_slider_response.html'>trial_image_slider_response</a></code>,
<code><a href='trial_audio_button_response.html'>trial_audio_button_response</a></code>,
<code><a href='trial_audio_keyboard_response.html'>trial_audio_keyboard_response</a></code>,
<code><a href='trial_audio_slider_response.html'>trial_audio_slider_response</a></code>,
<code><a href='trial_video_button_response.html'>trial_video_button_response</a></code>,
<code><a href='trial_video_keyboard_response.html'>trial_video_keyboard_response</a></code>,
<code><a href='trial_video_slider_response.html'>trial_video_slider_response</a></code>,
<code><a href='trial_html_button_response.html'>trial_html_button_response</a></code>,
<code><a href='trial_html_keyboard_response.html'>trial_html_keyboard_response</a></code> and
<code><a href='trial_html_slider_response.html'>trial_html_slider_response</a></code>.</p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by <a href="https://compcogscisydney.org" class="external-link">Danielle Navarro</a>.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


